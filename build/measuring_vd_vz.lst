ARM GAS  C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"measuring_vd_vz.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.setConfigADC,"ax",%progbits
  16              		.align	1
  17              		.global	setConfigADC
  18              		.arch armv7-m
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu softvfp
  24              	setConfigADC:
  25              	.LVL0:
  26              	.LFB65:
  27              		.file 1 "Drivers/Middlewares/measuring_vd_vz.c"
   1:Drivers/Middlewares/measuring_vd_vz.c **** #include "measuring_vd_vz.h"
   2:Drivers/Middlewares/measuring_vd_vz.c **** 
   3:Drivers/Middlewares/measuring_vd_vz.c **** uint16_t		CFG = 0x39FF << 2,
   4:Drivers/Middlewares/measuring_vd_vz.c ****          AD7682_IN0 = 0x3C49 << 2,          // 0x3C49   // 0x3849
   5:Drivers/Middlewares/measuring_vd_vz.c ****          AD7682_IN1 = 0x3CC9 << 2,          // 0x3CC9   // 0x38C9
   6:Drivers/Middlewares/measuring_vd_vz.c ****          AD7682_IN2 = 0x3D49 << 2,          // 0x3D49   // 0x3949
   7:Drivers/Middlewares/measuring_vd_vz.c ****          AD7682_IN3 = 0x3DC9 << 2;          // 0x3DC9   // 0x39C9   
   8:Drivers/Middlewares/measuring_vd_vz.c ****                     
   9:Drivers/Middlewares/measuring_vd_vz.c **** float   IDOUT = 0.5,                        //coef usilenia po toky
  10:Drivers/Middlewares/measuring_vd_vz.c **** 	    IZOUT = 0.5,  
  11:Drivers/Middlewares/measuring_vd_vz.c **** 	    deltaADC = 0.0000625,               //delta ADC
  12:Drivers/Middlewares/measuring_vd_vz.c **** 	    Resistor = 0.25;                    //tokovi resistor dla zener diod R = 4 Om
  13:Drivers/Middlewares/measuring_vd_vz.c **** 
  14:Drivers/Middlewares/measuring_vd_vz.c **** int   UDOUT = 2,
  15:Drivers/Middlewares/measuring_vd_vz.c ****       UZOUT = 2;
  16:Drivers/Middlewares/measuring_vd_vz.c **** uint16_t out;
  17:Drivers/Middlewares/measuring_vd_vz.c **** uint16_t* tmp;
  18:Drivers/Middlewares/measuring_vd_vz.c **** float currentADC_vd, voltageADC_vd, currentADC_vz, voltageADC_vz;
  19:Drivers/Middlewares/measuring_vd_vz.c **** extern uint16_t usSRegInBuf[];
  20:Drivers/Middlewares/measuring_vd_vz.c **** 
  21:Drivers/Middlewares/measuring_vd_vz.c **** int setConfigADC(uint16_t value) {
  28              		.loc 1 21 34 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 8
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		.loc 1 21 34 is_stmt 0 view .LVU1
  33 0000 30B5     		push	{r4, r5, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 12
  36              		.cfi_offset 4, -12
  37              		.cfi_offset 5, -8
ARM GAS  C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s 			page 2


  38              		.cfi_offset 14, -4
  39 0002 85B0     		sub	sp, sp, #20
  40              	.LCFI1:
  41              		.cfi_def_cfa_offset 32
  42 0004 ADF80E00 		strh	r0, [sp, #14]	@ movhi
  22:Drivers/Middlewares/measuring_vd_vz.c **** 	    for (int i = 0; i <= 15; i++) {
  43              		.loc 1 22 6 is_stmt 1 view .LVU2
  44              	.LBB2:
  45              		.loc 1 22 11 view .LVU3
  46              	.LVL1:
  47              		.loc 1 22 15 is_stmt 0 view .LVU4
  48 0008 0024     		movs	r4, #0
  49              	.LVL2:
  50              	.L2:
  51              		.loc 1 22 22 is_stmt 1 discriminator 1 view .LVU5
  52              		.loc 1 22 6 is_stmt 0 discriminator 1 view .LVU6
  53 000a 0F2C     		cmp	r4, #15
  54 000c 1DDC     		bgt	.L5
  23:Drivers/Middlewares/measuring_vd_vz.c **** 	    CNV_OFF;
  55              		.loc 1 23 6 is_stmt 1 discriminator 3 view .LVU7
  56 000e 114D     		ldr	r5, .L6
  57 0010 0022     		movs	r2, #0
  58 0012 4FF48051 		mov	r1, #4096
  59 0016 2846     		mov	r0, r5
  60 0018 FFF7FEFF 		bl	HAL_GPIO_WritePin
  61              	.LVL3:
  24:Drivers/Middlewares/measuring_vd_vz.c **** 	    HAL_Delay(2);
  62              		.loc 1 24 6 discriminator 3 view .LVU8
  63 001c 0220     		movs	r0, #2
  64 001e FFF7FEFF 		bl	HAL_Delay
  65              	.LVL4:
  25:Drivers/Middlewares/measuring_vd_vz.c ****         HAL_SPI_TransmitReceive(&hspi2, (uint8_t*)&value, (uint8_t*)&out, 1, 10);
  66              		.loc 1 25 9 discriminator 3 view .LVU9
  67 0022 0A23     		movs	r3, #10
  68 0024 0093     		str	r3, [sp]
  69 0026 0123     		movs	r3, #1
  70 0028 0B4A     		ldr	r2, .L6+4
  71 002a 0DF10E01 		add	r1, sp, #14
  72 002e 0B48     		ldr	r0, .L6+8
  73 0030 FFF7FEFF 		bl	HAL_SPI_TransmitReceive
  74              	.LVL5:
  26:Drivers/Middlewares/measuring_vd_vz.c ****         HAL_Delay(2);	
  75              		.loc 1 26 9 discriminator 3 view .LVU10
  76 0034 0220     		movs	r0, #2
  77 0036 FFF7FEFF 		bl	HAL_Delay
  78              	.LVL6:
  27:Drivers/Middlewares/measuring_vd_vz.c ****         CNV_ON;
  79              		.loc 1 27 9 discriminator 3 view .LVU11
  80 003a 0122     		movs	r2, #1
  81 003c 4FF48051 		mov	r1, #4096
  82 0040 2846     		mov	r0, r5
  83 0042 FFF7FEFF 		bl	HAL_GPIO_WritePin
  84              	.LVL7:
  22:Drivers/Middlewares/measuring_vd_vz.c **** 	    CNV_OFF;
  85              		.loc 1 22 31 discriminator 3 view .LVU12
  22:Drivers/Middlewares/measuring_vd_vz.c **** 	    CNV_OFF;
  86              		.loc 1 22 32 is_stmt 0 discriminator 3 view .LVU13
ARM GAS  C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s 			page 3


  87 0046 0134     		adds	r4, r4, #1
  88              	.LVL8:
  22:Drivers/Middlewares/measuring_vd_vz.c **** 	    CNV_OFF;
  89              		.loc 1 22 32 discriminator 3 view .LVU14
  90 0048 DFE7     		b	.L2
  91              	.L5:
  22:Drivers/Middlewares/measuring_vd_vz.c **** 	    CNV_OFF;
  92              		.loc 1 22 32 discriminator 3 view .LVU15
  93              	.LBE2:
  28:Drivers/Middlewares/measuring_vd_vz.c ****     }
  29:Drivers/Middlewares/measuring_vd_vz.c ****     return out;
  94              		.loc 1 29 5 is_stmt 1 view .LVU16
  30:Drivers/Middlewares/measuring_vd_vz.c **** }
  95              		.loc 1 30 1 is_stmt 0 view .LVU17
  96 004a 034B     		ldr	r3, .L6+4
  97 004c 1888     		ldrh	r0, [r3]
  98 004e 05B0     		add	sp, sp, #20
  99              	.LCFI2:
 100              		.cfi_def_cfa_offset 12
 101              		@ sp needed
 102 0050 30BD     		pop	{r4, r5, pc}
 103              	.LVL9:
 104              	.L7:
 105              		.loc 1 30 1 view .LVU18
 106 0052 00BF     		.align	2
 107              	.L6:
 108 0054 000C0140 		.word	1073810432
 109 0058 00000000 		.word	out
 110 005c 00000000 		.word	hspi2
 111              		.cfi_endproc
 112              	.LFE65:
 114              		.section	.text.dataTransferADC,"ax",%progbits
 115              		.align	1
 116              		.global	dataTransferADC
 117              		.syntax unified
 118              		.thumb
 119              		.thumb_func
 120              		.fpu softvfp
 122              	dataTransferADC:
 123              	.LVL10:
 124              	.LFB66:
  31:Drivers/Middlewares/measuring_vd_vz.c **** 
  32:Drivers/Middlewares/measuring_vd_vz.c **** void dataTransferADC(int registr, float out) {
 125              		.loc 1 32 46 is_stmt 1 view -0
 126              		.cfi_startproc
 127              		@ args = 0, pretend = 0, frame = 8
 128              		@ frame_needed = 0, uses_anonymous_args = 0
 129              		@ link register save eliminated.
 130              		.loc 1 32 46 is_stmt 0 view .LVU20
 131 0000 82B0     		sub	sp, sp, #8
 132              	.LCFI3:
 133              		.cfi_def_cfa_offset 8
 134 0002 0191     		str	r1, [sp, #4]	@ float
  33:Drivers/Middlewares/measuring_vd_vz.c **** 	tmp = (uint16_t*) &out;
 135              		.loc 1 33 2 is_stmt 1 view .LVU21
 136              		.loc 1 33 6 is_stmt 0 view .LVU22
 137 0004 074B     		ldr	r3, .L10
ARM GAS  C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s 			page 4


 138 0006 01AA     		add	r2, sp, #4
 139 0008 1A60     		str	r2, [r3]
  34:Drivers/Middlewares/measuring_vd_vz.c ****     usSRegInBuf[registr] = *tmp;
 140              		.loc 1 34 5 is_stmt 1 view .LVU23
 141              		.loc 1 34 28 is_stmt 0 view .LVU24
 142 000a BDF80420 		ldrh	r2, [sp, #4]
 143              		.loc 1 34 26 view .LVU25
 144 000e 064B     		ldr	r3, .L10+4
 145 0010 23F81020 		strh	r2, [r3, r0, lsl #1]	@ movhi
  35:Drivers/Middlewares/measuring_vd_vz.c ****     usSRegInBuf[registr + 1] = *(tmp + 1);
 146              		.loc 1 35 5 is_stmt 1 view .LVU26
 147              		.loc 1 35 25 is_stmt 0 view .LVU27
 148 0014 0130     		adds	r0, r0, #1
 149              	.LVL11:
 150              		.loc 1 35 30 view .LVU28
 151 0016 BDF80620 		ldrh	r2, [sp, #6]
 152 001a 23F81020 		strh	r2, [r3, r0, lsl #1]	@ movhi
  36:Drivers/Middlewares/measuring_vd_vz.c **** }
 153              		.loc 1 36 1 view .LVU29
 154 001e 02B0     		add	sp, sp, #8
 155              	.LCFI4:
 156              		.cfi_def_cfa_offset 0
 157              		@ sp needed
 158 0020 7047     		bx	lr
 159              	.L11:
 160 0022 00BF     		.align	2
 161              	.L10:
 162 0024 00000000 		.word	tmp
 163 0028 00000000 		.word	usSRegInBuf
 164              		.cfi_endproc
 165              	.LFE66:
 167              		.global	__aeabi_i2f
 168              		.global	__aeabi_fmul
 169              		.section	.text.measuringVD,"ax",%progbits
 170              		.align	1
 171              		.global	measuringVD
 172              		.syntax unified
 173              		.thumb
 174              		.thumb_func
 175              		.fpu softvfp
 177              	measuringVD:
 178              	.LFB67:
  37:Drivers/Middlewares/measuring_vd_vz.c **** 
  38:Drivers/Middlewares/measuring_vd_vz.c **** void measuringVD(void) { 
 179              		.loc 1 38 24 is_stmt 1 view -0
 180              		.cfi_startproc
 181              		@ args = 0, pretend = 0, frame = 0
 182              		@ frame_needed = 0, uses_anonymous_args = 0
 183 0000 70B5     		push	{r4, r5, r6, lr}
 184              	.LCFI5:
 185              		.cfi_def_cfa_offset 16
 186              		.cfi_offset 4, -16
 187              		.cfi_offset 5, -12
 188              		.cfi_offset 6, -8
 189              		.cfi_offset 14, -4
  39:Drivers/Middlewares/measuring_vd_vz.c ****     setConfigADC(AD7682_IN3);
 190              		.loc 1 39 5 view .LVU31
ARM GAS  C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s 			page 5


 191 0002 174B     		ldr	r3, .L14
 192 0004 1888     		ldrh	r0, [r3]
 193 0006 FFF7FEFF 		bl	setConfigADC
 194              	.LVL12:
  40:Drivers/Middlewares/measuring_vd_vz.c ****     voltageADC_vd = out * deltaADC  * UDOUT ;
 195              		.loc 1 40 5 view .LVU32
 196              		.loc 1 40 25 is_stmt 0 view .LVU33
 197 000a 164E     		ldr	r6, .L14+4
 198 000c 3088     		ldrh	r0, [r6]
 199 000e FFF7FEFF 		bl	__aeabi_i2f
 200              	.LVL13:
 201 0012 154D     		ldr	r5, .L14+8
 202 0014 2968     		ldr	r1, [r5]	@ float
 203 0016 FFF7FEFF 		bl	__aeabi_fmul
 204              	.LVL14:
 205 001a 0446     		mov	r4, r0
 206              		.loc 1 40 37 view .LVU34
 207 001c 134B     		ldr	r3, .L14+12
 208 001e 1868     		ldr	r0, [r3]
 209 0020 FFF7FEFF 		bl	__aeabi_i2f
 210              	.LVL15:
 211 0024 2146     		mov	r1, r4
 212 0026 FFF7FEFF 		bl	__aeabi_fmul
 213              	.LVL16:
 214 002a 0146     		mov	r1, r0
 215              		.loc 1 40 19 view .LVU35
 216 002c 104B     		ldr	r3, .L14+16
 217 002e 1860     		str	r0, [r3]	@ float
  41:Drivers/Middlewares/measuring_vd_vz.c ****     dataTransferADC(0, voltageADC_vd);
 218              		.loc 1 41 5 is_stmt 1 view .LVU36
 219 0030 0020     		movs	r0, #0
 220 0032 FFF7FEFF 		bl	dataTransferADC
 221              	.LVL17:
  42:Drivers/Middlewares/measuring_vd_vz.c ****     
  43:Drivers/Middlewares/measuring_vd_vz.c ****     setConfigADC(AD7682_IN2);  
 222              		.loc 1 43 5 view .LVU37
 223 0036 0F4B     		ldr	r3, .L14+20
 224 0038 1888     		ldrh	r0, [r3]
 225 003a FFF7FEFF 		bl	setConfigADC
 226              	.LVL18:
  44:Drivers/Middlewares/measuring_vd_vz.c ****     currentADC_vd = out * deltaADC * IDOUT; 
 227              		.loc 1 44 5 view .LVU38
 228              		.loc 1 44 25 is_stmt 0 view .LVU39
 229 003e 3088     		ldrh	r0, [r6]
 230 0040 FFF7FEFF 		bl	__aeabi_i2f
 231              	.LVL19:
 232 0044 2968     		ldr	r1, [r5]	@ float
 233 0046 FFF7FEFF 		bl	__aeabi_fmul
 234              	.LVL20:
 235              		.loc 1 44 36 view .LVU40
 236 004a 0B4B     		ldr	r3, .L14+24
 237 004c 1968     		ldr	r1, [r3]	@ float
 238 004e FFF7FEFF 		bl	__aeabi_fmul
 239              	.LVL21:
 240 0052 0146     		mov	r1, r0
 241              		.loc 1 44 19 view .LVU41
 242 0054 094B     		ldr	r3, .L14+28
ARM GAS  C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s 			page 6


 243 0056 1860     		str	r0, [r3]	@ float
  45:Drivers/Middlewares/measuring_vd_vz.c ****     dataTransferADC(2, currentADC_vd);
 244              		.loc 1 45 5 is_stmt 1 view .LVU42
 245 0058 0220     		movs	r0, #2
 246 005a FFF7FEFF 		bl	dataTransferADC
 247              	.LVL22:
  46:Drivers/Middlewares/measuring_vd_vz.c **** }
 248              		.loc 1 46 1 is_stmt 0 view .LVU43
 249 005e 70BD     		pop	{r4, r5, r6, pc}
 250              	.L15:
 251              		.align	2
 252              	.L14:
 253 0060 00000000 		.word	.LANCHOR0
 254 0064 00000000 		.word	out
 255 0068 00000000 		.word	.LANCHOR1
 256 006c 00000000 		.word	.LANCHOR2
 257 0070 00000000 		.word	voltageADC_vd
 258 0074 00000000 		.word	.LANCHOR3
 259 0078 00000000 		.word	.LANCHOR4
 260 007c 00000000 		.word	currentADC_vd
 261              		.cfi_endproc
 262              	.LFE67:
 264              		.section	.text.measuringVZ,"ax",%progbits
 265              		.align	1
 266              		.global	measuringVZ
 267              		.syntax unified
 268              		.thumb
 269              		.thumb_func
 270              		.fpu softvfp
 272              	measuringVZ:
 273              	.LFB68:
  47:Drivers/Middlewares/measuring_vd_vz.c **** 
  48:Drivers/Middlewares/measuring_vd_vz.c **** void measuringVZ(void) {
 274              		.loc 1 48 24 is_stmt 1 view -0
 275              		.cfi_startproc
 276              		@ args = 0, pretend = 0, frame = 0
 277              		@ frame_needed = 0, uses_anonymous_args = 0
 278 0000 70B5     		push	{r4, r5, r6, lr}
 279              	.LCFI6:
 280              		.cfi_def_cfa_offset 16
 281              		.cfi_offset 4, -16
 282              		.cfi_offset 5, -12
 283              		.cfi_offset 6, -8
 284              		.cfi_offset 14, -4
  49:Drivers/Middlewares/measuring_vd_vz.c ****     setConfigADC(AD7682_IN1);
 285              		.loc 1 49 5 view .LVU45
 286 0002 194B     		ldr	r3, .L18
 287 0004 1888     		ldrh	r0, [r3]
 288 0006 FFF7FEFF 		bl	setConfigADC
 289              	.LVL23:
  50:Drivers/Middlewares/measuring_vd_vz.c ****     voltageADC_vz = out * deltaADC * UZOUT;
 290              		.loc 1 50 5 view .LVU46
 291              		.loc 1 50 25 is_stmt 0 view .LVU47
 292 000a 184E     		ldr	r6, .L18+4
 293 000c 3088     		ldrh	r0, [r6]
 294 000e FFF7FEFF 		bl	__aeabi_i2f
 295              	.LVL24:
ARM GAS  C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s 			page 7


 296 0012 174D     		ldr	r5, .L18+8
 297 0014 2968     		ldr	r1, [r5]	@ float
 298 0016 FFF7FEFF 		bl	__aeabi_fmul
 299              	.LVL25:
 300 001a 0446     		mov	r4, r0
 301              		.loc 1 50 36 view .LVU48
 302 001c 154B     		ldr	r3, .L18+12
 303 001e 1868     		ldr	r0, [r3]
 304 0020 FFF7FEFF 		bl	__aeabi_i2f
 305              	.LVL26:
 306 0024 2146     		mov	r1, r4
 307 0026 FFF7FEFF 		bl	__aeabi_fmul
 308              	.LVL27:
 309 002a 0146     		mov	r1, r0
 310              		.loc 1 50 19 view .LVU49
 311 002c 124B     		ldr	r3, .L18+16
 312 002e 1860     		str	r0, [r3]	@ float
  51:Drivers/Middlewares/measuring_vd_vz.c ****     dataTransferADC(4, voltageADC_vz);
 313              		.loc 1 51 5 is_stmt 1 view .LVU50
 314 0030 0420     		movs	r0, #4
 315 0032 FFF7FEFF 		bl	dataTransferADC
 316              	.LVL28:
  52:Drivers/Middlewares/measuring_vd_vz.c **** 
  53:Drivers/Middlewares/measuring_vd_vz.c ****     setConfigADC(AD7682_IN0); 
 317              		.loc 1 53 5 view .LVU51
 318 0036 114B     		ldr	r3, .L18+20
 319 0038 1888     		ldrh	r0, [r3]
 320 003a FFF7FEFF 		bl	setConfigADC
 321              	.LVL29:
  54:Drivers/Middlewares/measuring_vd_vz.c ****     currentADC_vz = out * deltaADC * IZOUT * Resistor;  
 322              		.loc 1 54 5 view .LVU52
 323              		.loc 1 54 25 is_stmt 0 view .LVU53
 324 003e 3088     		ldrh	r0, [r6]
 325 0040 FFF7FEFF 		bl	__aeabi_i2f
 326              	.LVL30:
 327 0044 2968     		ldr	r1, [r5]	@ float
 328 0046 FFF7FEFF 		bl	__aeabi_fmul
 329              	.LVL31:
 330              		.loc 1 54 36 view .LVU54
 331 004a 0D4B     		ldr	r3, .L18+24
 332 004c 1968     		ldr	r1, [r3]	@ float
 333 004e FFF7FEFF 		bl	__aeabi_fmul
 334              	.LVL32:
 335              		.loc 1 54 44 view .LVU55
 336 0052 0C4B     		ldr	r3, .L18+28
 337 0054 1968     		ldr	r1, [r3]	@ float
 338 0056 FFF7FEFF 		bl	__aeabi_fmul
 339              	.LVL33:
 340 005a 0146     		mov	r1, r0
 341              		.loc 1 54 19 view .LVU56
 342 005c 0A4B     		ldr	r3, .L18+32
 343 005e 1860     		str	r0, [r3]	@ float
  55:Drivers/Middlewares/measuring_vd_vz.c ****     dataTransferADC(6, currentADC_vz);
 344              		.loc 1 55 5 is_stmt 1 view .LVU57
 345 0060 0620     		movs	r0, #6
 346 0062 FFF7FEFF 		bl	dataTransferADC
 347              	.LVL34:
ARM GAS  C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s 			page 8


  56:Drivers/Middlewares/measuring_vd_vz.c **** }
 348              		.loc 1 56 1 is_stmt 0 view .LVU58
 349 0066 70BD     		pop	{r4, r5, r6, pc}
 350              	.L19:
 351              		.align	2
 352              	.L18:
 353 0068 00000000 		.word	.LANCHOR5
 354 006c 00000000 		.word	out
 355 0070 00000000 		.word	.LANCHOR1
 356 0074 00000000 		.word	.LANCHOR6
 357 0078 00000000 		.word	voltageADC_vz
 358 007c 00000000 		.word	.LANCHOR7
 359 0080 00000000 		.word	.LANCHOR8
 360 0084 00000000 		.word	.LANCHOR9
 361 0088 00000000 		.word	currentADC_vz
 362              		.cfi_endproc
 363              	.LFE68:
 365              		.section	.text.configurationADC,"ax",%progbits
 366              		.align	1
 367              		.global	configurationADC
 368              		.syntax unified
 369              		.thumb
 370              		.thumb_func
 371              		.fpu softvfp
 373              	configurationADC:
 374              	.LFB69:
  57:Drivers/Middlewares/measuring_vd_vz.c **** 
  58:Drivers/Middlewares/measuring_vd_vz.c **** void configurationADC(void) {
 375              		.loc 1 58 29 is_stmt 1 view -0
 376              		.cfi_startproc
 377              		@ args = 0, pretend = 0, frame = 0
 378              		@ frame_needed = 0, uses_anonymous_args = 0
 379 0000 30B5     		push	{r4, r5, lr}
 380              	.LCFI7:
 381              		.cfi_def_cfa_offset 12
 382              		.cfi_offset 4, -12
 383              		.cfi_offset 5, -8
 384              		.cfi_offset 14, -4
 385 0002 83B0     		sub	sp, sp, #12
 386              	.LCFI8:
 387              		.cfi_def_cfa_offset 24
  59:Drivers/Middlewares/measuring_vd_vz.c **** 	
  60:Drivers/Middlewares/measuring_vd_vz.c ****     for (int i = 0; i <= 3; i++) {
 388              		.loc 1 60 5 view .LVU60
 389              	.LBB3:
 390              		.loc 1 60 10 view .LVU61
 391              	.LVL35:
 392              		.loc 1 60 14 is_stmt 0 view .LVU62
 393 0004 0025     		movs	r5, #0
 394              		.loc 1 60 5 view .LVU63
 395 0006 24E0     		b	.L21
 396              	.LVL36:
 397              	.L22:
  61:Drivers/Middlewares/measuring_vd_vz.c ****         CNV_ON;
 398              		.loc 1 61 9 is_stmt 1 discriminator 3 view .LVU64
 399 0008 144C     		ldr	r4, .L24
 400 000a 0122     		movs	r2, #1
ARM GAS  C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s 			page 9


 401 000c 4FF48051 		mov	r1, #4096
 402 0010 2046     		mov	r0, r4
 403 0012 FFF7FEFF 		bl	HAL_GPIO_WritePin
 404              	.LVL37:
  62:Drivers/Middlewares/measuring_vd_vz.c ****         HAL_Delay(20);
 405              		.loc 1 62 9 discriminator 3 view .LVU65
 406 0016 1420     		movs	r0, #20
 407 0018 FFF7FEFF 		bl	HAL_Delay
 408              	.LVL38:
  63:Drivers/Middlewares/measuring_vd_vz.c ****         
  64:Drivers/Middlewares/measuring_vd_vz.c ****         CNV_OFF;
 409              		.loc 1 64 9 discriminator 3 view .LVU66
 410 001c 0022     		movs	r2, #0
 411 001e 4FF48051 		mov	r1, #4096
 412 0022 2046     		mov	r0, r4
 413 0024 FFF7FEFF 		bl	HAL_GPIO_WritePin
 414              	.LVL39:
  65:Drivers/Middlewares/measuring_vd_vz.c ****         HAL_Delay(2);
 415              		.loc 1 65 9 discriminator 3 view .LVU67
 416 0028 0220     		movs	r0, #2
 417 002a FFF7FEFF 		bl	HAL_Delay
 418              	.LVL40:
  66:Drivers/Middlewares/measuring_vd_vz.c ****         HAL_SPI_TransmitReceive(&hspi2, (uint8_t*)&CFG, (uint8_t*)&out, 1, 10);
 419              		.loc 1 66 9 discriminator 3 view .LVU68
 420 002e 0A23     		movs	r3, #10
 421 0030 0093     		str	r3, [sp]
 422 0032 0123     		movs	r3, #1
 423 0034 0A4A     		ldr	r2, .L24+4
 424 0036 0B49     		ldr	r1, .L24+8
 425 0038 0B48     		ldr	r0, .L24+12
 426 003a FFF7FEFF 		bl	HAL_SPI_TransmitReceive
 427              	.LVL41:
  67:Drivers/Middlewares/measuring_vd_vz.c ****         HAL_Delay(2);
 428              		.loc 1 67 9 discriminator 3 view .LVU69
 429 003e 0220     		movs	r0, #2
 430 0040 FFF7FEFF 		bl	HAL_Delay
 431              	.LVL42:
  68:Drivers/Middlewares/measuring_vd_vz.c ****         CNV_ON;
 432              		.loc 1 68 9 discriminator 3 view .LVU70
 433 0044 0122     		movs	r2, #1
 434 0046 4FF48051 		mov	r1, #4096
 435 004a 2046     		mov	r0, r4
 436 004c FFF7FEFF 		bl	HAL_GPIO_WritePin
 437              	.LVL43:
  60:Drivers/Middlewares/measuring_vd_vz.c ****         CNV_ON;
 438              		.loc 1 60 29 discriminator 3 view .LVU71
  60:Drivers/Middlewares/measuring_vd_vz.c ****         CNV_ON;
 439              		.loc 1 60 30 is_stmt 0 discriminator 3 view .LVU72
 440 0050 0135     		adds	r5, r5, #1
 441              	.LVL44:
 442              	.L21:
  60:Drivers/Middlewares/measuring_vd_vz.c ****         CNV_ON;
 443              		.loc 1 60 21 is_stmt 1 discriminator 1 view .LVU73
  60:Drivers/Middlewares/measuring_vd_vz.c ****         CNV_ON;
 444              		.loc 1 60 5 is_stmt 0 discriminator 1 view .LVU74
 445 0052 032D     		cmp	r5, #3
 446 0054 D8DD     		ble	.L22
ARM GAS  C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s 			page 10


 447              	.LBE3:
  69:Drivers/Middlewares/measuring_vd_vz.c ****     }
  70:Drivers/Middlewares/measuring_vd_vz.c **** }
 448              		.loc 1 70 1 view .LVU75
 449 0056 03B0     		add	sp, sp, #12
 450              	.LCFI9:
 451              		.cfi_def_cfa_offset 12
 452              		@ sp needed
 453 0058 30BD     		pop	{r4, r5, pc}
 454              	.LVL45:
 455              	.L25:
 456              		.loc 1 70 1 view .LVU76
 457 005a 00BF     		.align	2
 458              	.L24:
 459 005c 000C0140 		.word	1073810432
 460 0060 00000000 		.word	out
 461 0064 00000000 		.word	.LANCHOR10
 462 0068 00000000 		.word	hspi2
 463              		.cfi_endproc
 464              	.LFE69:
 466              		.comm	voltageADC_vz,4,4
 467              		.comm	currentADC_vz,4,4
 468              		.comm	voltageADC_vd,4,4
 469              		.comm	currentADC_vd,4,4
 470              		.comm	tmp,4,4
 471              		.comm	out,2,2
 472              		.global	UZOUT
 473              		.global	UDOUT
 474              		.global	Resistor
 475              		.global	deltaADC
 476              		.global	IZOUT
 477              		.global	IDOUT
 478              		.global	AD7682_IN3
 479              		.global	AD7682_IN2
 480              		.global	AD7682_IN1
 481              		.global	AD7682_IN0
 482              		.global	CFG
 483              		.section	.data.AD7682_IN0,"aw"
 484              		.align	1
 485              		.set	.LANCHOR7,. + 0
 488              	AD7682_IN0:
 489 0000 24F1     		.short	-3804
 490              		.section	.data.AD7682_IN1,"aw"
 491              		.align	1
 492              		.set	.LANCHOR5,. + 0
 495              	AD7682_IN1:
 496 0000 24F3     		.short	-3292
 497              		.section	.data.AD7682_IN2,"aw"
 498              		.align	1
 499              		.set	.LANCHOR3,. + 0
 502              	AD7682_IN2:
 503 0000 24F5     		.short	-2780
 504              		.section	.data.AD7682_IN3,"aw"
 505              		.align	1
 506              		.set	.LANCHOR0,. + 0
 509              	AD7682_IN3:
 510 0000 24F7     		.short	-2268
ARM GAS  C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s 			page 11


 511              		.section	.data.CFG,"aw"
 512              		.align	1
 513              		.set	.LANCHOR10,. + 0
 516              	CFG:
 517 0000 FCE7     		.short	-6148
 518              		.section	.data.IDOUT,"aw"
 519              		.align	2
 520              		.set	.LANCHOR4,. + 0
 523              	IDOUT:
 524 0000 0000003F 		.word	1056964608
 525              		.section	.data.IZOUT,"aw"
 526              		.align	2
 527              		.set	.LANCHOR8,. + 0
 530              	IZOUT:
 531 0000 0000003F 		.word	1056964608
 532              		.section	.data.Resistor,"aw"
 533              		.align	2
 534              		.set	.LANCHOR9,. + 0
 537              	Resistor:
 538 0000 0000803E 		.word	1048576000
 539              		.section	.data.UDOUT,"aw"
 540              		.align	2
 541              		.set	.LANCHOR2,. + 0
 544              	UDOUT:
 545 0000 02000000 		.word	2
 546              		.section	.data.UZOUT,"aw"
 547              		.align	2
 548              		.set	.LANCHOR6,. + 0
 551              	UZOUT:
 552 0000 02000000 		.word	2
 553              		.section	.data.deltaADC,"aw"
 554              		.align	2
 555              		.set	.LANCHOR1,. + 0
 558              	deltaADC:
 559 0000 6F128338 		.word	948114031
 560              		.text
 561              	.Letext0:
 562              		.file 2 "c:\\program files\\microsoft vs code\\gcc_arm\\arm-none-eabi\\include\\machine\\_default_
 563              		.file 3 "c:\\program files\\microsoft vs code\\gcc_arm\\arm-none-eabi\\include\\sys\\_stdint.h"
 564              		.file 4 "Drivers/CMSIS/Include/core_cm3.h"
 565              		.file 5 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/system_stm32f1xx.h"
 566              		.file 6 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xb.h"
 567              		.file 7 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 568              		.file 8 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_gpio.h"
 569              		.file 9 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 570              		.file 10 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_spi.h"
 571              		.file 11 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_tim.h"
 572              		.file 12 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_uart.h"
 573              		.file 13 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h"
 574              		.file 14 "Inc/spi.h"
 575              		.file 15 "Inc/tim.h"
 576              		.file 16 "Inc/usart.h"
 577              		.file 17 "Drivers/FreeModbus/port/port.h"
 578              		.file 18 "Drivers/FreeModbus/include/mbport.h"
ARM GAS  C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s 			page 12


DEFINED SYMBOLS
                            *ABS*:0000000000000000 measuring_vd_vz.c
C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s:16     .text.setConfigADC:0000000000000000 $t
C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s:24     .text.setConfigADC:0000000000000000 setConfigADC
C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s:108    .text.setConfigADC:0000000000000054 $d
                            *COM*:0000000000000002 out
C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s:115    .text.dataTransferADC:0000000000000000 $t
C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s:122    .text.dataTransferADC:0000000000000000 dataTransferADC
C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s:162    .text.dataTransferADC:0000000000000024 $d
                            *COM*:0000000000000004 tmp
C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s:170    .text.measuringVD:0000000000000000 $t
C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s:177    .text.measuringVD:0000000000000000 measuringVD
C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s:253    .text.measuringVD:0000000000000060 $d
                            *COM*:0000000000000004 voltageADC_vd
                            *COM*:0000000000000004 currentADC_vd
C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s:265    .text.measuringVZ:0000000000000000 $t
C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s:272    .text.measuringVZ:0000000000000000 measuringVZ
C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s:353    .text.measuringVZ:0000000000000068 $d
                            *COM*:0000000000000004 voltageADC_vz
                            *COM*:0000000000000004 currentADC_vz
C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s:366    .text.configurationADC:0000000000000000 $t
C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s:373    .text.configurationADC:0000000000000000 configurationADC
C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s:459    .text.configurationADC:000000000000005c $d
C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s:551    .data.UZOUT:0000000000000000 UZOUT
C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s:544    .data.UDOUT:0000000000000000 UDOUT
C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s:537    .data.Resistor:0000000000000000 Resistor
C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s:558    .data.deltaADC:0000000000000000 deltaADC
C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s:530    .data.IZOUT:0000000000000000 IZOUT
C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s:523    .data.IDOUT:0000000000000000 IDOUT
C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s:509    .data.AD7682_IN3:0000000000000000 AD7682_IN3
C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s:502    .data.AD7682_IN2:0000000000000000 AD7682_IN2
C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s:495    .data.AD7682_IN1:0000000000000000 AD7682_IN1
C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s:488    .data.AD7682_IN0:0000000000000000 AD7682_IN0
C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s:516    .data.CFG:0000000000000000 CFG
C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s:484    .data.AD7682_IN0:0000000000000000 $d
C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s:491    .data.AD7682_IN1:0000000000000000 $d
C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s:498    .data.AD7682_IN2:0000000000000000 $d
C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s:505    .data.AD7682_IN3:0000000000000000 $d
C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s:512    .data.CFG:0000000000000000 $d
C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s:519    .data.IDOUT:0000000000000000 $d
C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s:526    .data.IZOUT:0000000000000000 $d
C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s:533    .data.Resistor:0000000000000000 $d
C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s:540    .data.UDOUT:0000000000000000 $d
C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s:547    .data.UZOUT:0000000000000000 $d
C:\Users\QUALIT~1\AppData\Local\Temp\ccdxvlpF.s:554    .data.deltaADC:0000000000000000 $d

UNDEFINED SYMBOLS
HAL_GPIO_WritePin
HAL_Delay
HAL_SPI_TransmitReceive
hspi2
usSRegInBuf
__aeabi_i2f
__aeabi_fmul
